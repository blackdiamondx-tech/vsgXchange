<?xml version="1.0" encoding="UTF-8"?>
<svg width="210mm" height="297mm" viewBox="0 0 1240 1754" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <defs>
    <style><![CDATA[
      .box{fill:white;stroke:black;stroke-width:3}
      .small{fill:white;stroke:black;stroke-width:2}
      .arrow{stroke:black;stroke-width:3;fill:none;marker-end:url(#a)}
      text{font-family:Arial,sans-serif;fill:black}
      .title{font-size:26px;font-weight:bold}
      .lbl{font-size:16px}
      .mono{font-family:"Courier New",monospace;font-size:14px}
    ]]></style>
    <marker id="a" markerWidth="10" markerHeight="8" refX="10" refY="4" orient="auto"><path d="M0,0 L10,4 L0,8 z" fill="black"/></marker>
  </defs>

  <text x="40" y="50" class="title">Figure 6 — Example NFT minting and assignment dataflow</text>

  <!-- Steps -->
  <rect class="box" x="60" y="110" width="420" height="90" rx="8"/><text x="80" y="150" class="lbl">601 Capture Data</text>
  <rect class="box" x="60" y="220" width="420" height="90" rx="8"/><text x="80" y="260" class="lbl">602 Produce Provenance Metadata</text>
  <rect class="box" x="60" y="330" width="420" height="90" rx="8"/><text x="80" y="370" class="lbl">603 Perform Analytics</text>
  <rect class="box" x="60" y="440" width="420" height="90" rx="8"/><text x="80" y="480" class="lbl">604 Generate Assessment Score</text>
  <rect class="box" x="60" y="550" width="420" height="90" rx="8"/><text x="80" y="590" class="lbl">605 Create Token & Assign</text>

  <path class="arrow" d="M300 200 L520 200"/>
  <path class="arrow" d="M300 310 L520 310"/>
  <path class="arrow" d="M300 420 L520 420"/>
  <path class="arrow" d="M300 530 L520 530"/>

  <!-- Payload -->
  <rect class="box" x="620" y="120" width="560" height="420" rx="8"/><text x="640" y="150" class="lbl">Token Payload (example fields)</text>
  <rect class="small" x="660" y="180" width="500" height="40"/><text x="680" y="205" class="mono">Header (16b) | Length (32b)</text>
  <rect class="small" x="660" y="230" width="500" height="40"/><text x="680" y="255" class="mono">When (64b UNIX ms)</text>
  <rect class="small" x="660" y="280" width="500" height="40"/><text x="680" y="305" class="mono">Where (128b geohash / UUID)</text>
  <rect class="small" x="660" y="330" width="500" height="40"/><text x="680" y="355" class="mono">What-type (16b) | What-fingerprint (SHA-256)</text>
  <rect class="small" x="660" y="380" width="500" height="40"/><text x="680" y="405" class="mono">Who (32B pubkey hash) | AssessmentRef (16b)</text>
  <rect class="small" x="660" y="430" width="500" height="40"/><text x="680" y="455" class="mono">Signature (Ed25519 / ECDSA) | Nonce | Expiry</text>

  <!-- Ledger I/O -->
  <rect class="box" x="660" y="500" width="520" height="140" rx="8"/><text x="680" y="540" class="lbl">Ledger I/O</text>
  <text x="680" y="568" class="mono">TLS 1.3 / DTLS • JSON-RPC / CBOR • Atomic commit → ledger_tx_id</text>

  <path class="arrow" d="M480 595 L660 595"/>
  <path class="arrow" d="M1180 540 L1180 460"/>

  <text x="60" y="680" class="lbl">Legend: steps 601–605 map to workflow; protected descriptor memory stores sensitive buffers.</text>
</svg>
